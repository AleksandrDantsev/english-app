import{r as n,j as e,b as A}from"./index-tzw3wyuN.js";import{u as b,b as I}from"./reduxToolkit-p_wSQIGb.js";import{P as B}from"./PaginationCard-hCCg-bMF.js";const k="_createFlashcardWrapper_6jgd9_1",U="_widthMainConteiner_6jgd9_11",S="_imgPuzzle_6jgd9_15",E="_addAddict_6jgd9_33",O="_active_6jgd9_46",M="_form_6jgd9_50",D="_wrapperImgInput_6jgd9_70",L="_withoutImg_6jgd9_1",q="_checkBoxWithoutImageCustom_6jgd9_93",R="_inputFlashCard_6jgd9_116",$="_inputFlashCardOption_6jgd9_117",T="_optionInputUrl_6jgd9_131",G="_addCard_6jgd9_148",Q="_activeImage_6jgd9_165",J="_navBarPhotos_6jgd9_171",K="_imgPazzleUnit_6jgd9_178",Y="_appearSmoothImage_6jgd9_1",Z="_widthAutoPazzle_6jgd9_190",H="_blurImage_6jgd9_194",V="_diactiveBt_6jgd9_199",X="_succesAddedCard_6jgd9_204",tt="_conteiner_6jgd9_213",et="_wordNotFound_6jgd9_229",t={createFlashcardWrapper:k,widthMainConteiner:U,imgPuzzle:S,addAddict:E,active:O,form:M,wrapperImgInput:D,withoutImg:L,checkBoxWithoutImageCustom:q,inputFlashCard:R,inputFlashCardOption:$,optionInputUrl:T,addCard:G,activeImage:Q,navBarPhotos:J,imgPazzleUnit:K,appearSmoothImage:Y,widthAutoPazzle:Z,blurImage:H,diactiveBt:V,succesAddedCard:X,conteiner:tt,wordNotFound:et},at="468Q8bMOgOGEE83ah-aDyPEulZLkL2xJoCUTexnRBFs",nt=()=>{const[r,j]=n.useState([]),[i,l]=n.useState(""),[o,c]=n.useState({word:"",url:"",description:""}),[x,u]=n.useState(!1),[C,p]=n.useState(!1),[d,h]=n.useState(1),w=b(),v=async()=>{p(!1);try{await I.get(`https://api.dictionaryapi.dev/api/v2/entries/en/${o.word.toLowerCase().trim()}`).then(s=>s.data[0])&&(g(),h(1)),u(!1)}catch{p(!0)}},g=async()=>{try{await I.get(`https://api.unsplash.com/search/photos?per_page=12&page=${d}
                            &query=${o.word.toLowerCase().trim()}&client_id=${at}`).then(a=>{console.log(a.data),j(a.data.results.map(s=>{var _;return(_=s.urls)==null?void 0:_.regular}))}).catch(()=>console.log("error search"))}catch{console.log("err")}};n.useEffect(()=>{r.length&&g()},[d]);const F=a=>{const s=a.target;s.tagName=="IMG"&&l(s.src)},N=a=>{const s=a.target;c({...o,word:s.value})},f=a=>{const s=a.target;c({...o,description:s.value})},z=a=>{const s=a.target;c({...o,url:s.value})},P=a=>{a.target.checked?c({...o,url:"./public/nophoto.webp"}):c({...o,url:""})},m=()=>{w(A({...o,imageChoise:i})),c({word:"",url:"",description:""}),u(!0),l("")},y=n.useMemo(()=>r.map((a,s)=>e.jsx("div",{className:t.imgPazzleUnit,children:e.jsx("img",{className:i==a?t.activeImage:i?t.blurImage:"",src:a,alt:"Image"})},a+s)),[r,i,d]),W=()=>r.length<12&&d==0?12:+d*12+12<61?+d*12+12:60;return e.jsxs("div",{className:r.length==0?t.createFlashcardWrapper+" "+t.widthMainConteiner:t.createFlashcardWrapper,children:[e.jsxs("div",{className:r.length?t.imgPuzzle:t.imgPuzzle+" "+t.widthAutoPazzle,onClick:F,children:[x?e.jsx("div",{className:t.succesAddedCard,children:e.jsx("div",{className:t.conteiner,children:e.jsx("span",{children:"Card was succesfully added"})})}):r.length>0&&y,r.length>0&&e.jsx("div",{className:t.navBarPhotos,children:e.jsx(B,{quantityWordsOnPage:12,quantityElems:W(),numberPage:d,setNumberPage:h,type:"photo"})})]}),e.jsx("button",{onClick:m,className:i?t.addAddict+" "+t.active:t.addAddict,children:"Add to flashcards"}),e.jsx("div",{className:t.form,children:e.jsxs("form",{children:[e.jsx("input",{onBlur:v,onInput:N,className:t.inputFlashCard,value:o.word,type:"text",placeholder:"Word"}),e.jsx("div",{className:t.wordNotFound,children:C&&"Word not found"}),e.jsxs("div",{className:t.optionInputUrl,children:[e.jsxs("label",{htmlFor:"descriptonIn",children:["Description",e.jsx("span",{children:"*"})]}),e.jsx("input",{onInput:f,className:t.inputFlashCardOption,value:o.description,type:"text",placeholder:"Text",id:"descriptonIn"}),e.jsxs("label",{htmlFor:"optionIN",children:["URL image ",e.jsx("span",{children:"*"})]}),e.jsx("input",{onInput:z,className:t.inputFlashCardOption,value:o.url,type:"text",placeholder:"URL",id:"optionIN"}),e.jsxs("div",{className:t.wrapperImgInput,children:[e.jsxs("label",{htmlFor:t.withoutImg,children:["Without image",e.jsx("span",{children:"*"})]}),e.jsx("input",{type:"checkbox",onChange:P,id:t.withoutImg}),e.jsx("span",{className:t.checkBoxWithoutImageCustom})]})]}),e.jsx("button",{className:o.word&&(i||o.url)?t.addCard:t.addCard+" "+t.diactiveBt,onClick:m,type:"button",children:"Add to flashcards"})]})})]})};export{nt as default};
