import{j as e,r as s,c as W,_ as S,L as C}from"./index-rSccgMKY.js";import{D as j}from"./Definiton-czBVvHTN.js";import{u as w,b as k,a as P}from"./reduxToolkit-6t9TBL9S.js";import{P as N}from"./PaginationCard-A0s5KKnT.js";const L="_wrapperDictionary_1imdp_1",b="_dictionaryCards_1imdp_8",B="_topLineDictionary_1imdp_12",q="_quantityWords_1imdp_17",E="_inputSearcWord_1imdp_29",T="_emptyDictWrapper_1imdp_40",A="_emptyTitle_1imdp_48",_={wrapperDictionary:L,dictionaryCards:b,topLineDictionary:B,quantityWords:q,inputSearcWord:E,emptyDictWrapper:T,emptyTitle:A},F="_dictioanryCard_jn63r_1",$="_word_jn63r_14",I="_wordTitle_jn63r_23",M="_phonetics_jn63r_30",H="_transcription_jn63r_37",O="_def_jn63r_46",z="_dictionaryDate_jn63r_54",Q="_deleteWord_jn63r_58",h={dictioanryCard:F,word:$,wordTitle:I,phonetics:M,transcription:H,def:O,dictionaryDate:z,deleteWord:Q},R="_sideBardDesc_11gtq_1",V="_hideDescBar_11gtq_13",X="_sidebarWrapper_11gtq_32",x={sideBardDesc:R,hideDescBar:V,sidebarWrapper:X},Y=({information:t,setIsShowDefinitionBar:p})=>{console.log(t);const a=()=>{p(!1)};return e.jsxs("div",{className:x.sideBardDesc,children:[e.jsx("span",{className:x.hideDescBar,onClick:a,children:e.jsxs("svg",{fill:"#787878",height:"15px",width:"15px",viewBox:"0 0 490 490",stroke:"#787878",children:[e.jsx("g",{strokeWidth:"0"}),e.jsx("g",{strokeLinecap:"round",strokeLinejoin:"round"}),e.jsxs("g",{children:[" ",e.jsx("polygon",{points:"456.851,0 245,212.564 33.149,0 0.708,32.337 212.669,245.004 0.708,457.678 33.149,490 245,277.443 456.851,490 489.292,457.678 277.331,245.004 489.292,32.337 "})," "]})]})}),e.jsxs("div",{className:x.sidebarWrapper,children:[e.jsx(j,{typeDef:"adjective",data:t,typeSearch:"definition"}),e.jsx(j,{typeDef:"noun",data:t,typeSearch:"definition"}),e.jsx(j,{typeDef:"verb",data:t,typeSearch:"definition"}),e.jsx(j,{typeDef:"adverb",data:t,typeSearch:"definition"})]})]})},Z="_audioWord_hj7er_1",G="_animationSoundPlayClass_hj7er_9",J="_animationSoundPlay_hj7er_9",K="_pronCountry_hj7er_13",f={audioWord:Z,animationSoundPlayClass:G,animationSoundPlay:J,pronCountry:K},D=({audioString:t})=>{const[p,a]=s.useState(!1),d=s.useMemo(()=>{var i;if(t.length){for(let o=0;o<t.length;o++)if(t[o].audio.endsWith("us.mp3"))return t[o].audio;return(i=t.find(o=>o.audio!=""))==null?void 0:i.audio}},[t]),r=()=>{a(!0);const i=new Audio(d);i.play(),i.onended=()=>a(!1)},l=()=>{var c;const i=["us","uk","en","au"];for(let o=0;o<i.length;o++)if((c=d==null?void 0:d.toLowerCase())!=null&&c.includes(i[o]))return i[o]};return e.jsx(s.Fragment,{children:!!d&&e.jsxs("div",{onClick:r,className:f.audioWord,children:[e.jsxs("svg",{className:p?f.animationSoundPlayClass:"",width:"30px",height:"30px",viewBox:"-0.5 0 25 25",fill:"none",stroke:"#6e6e6e",children:[e.jsx("g",{strokeWidth:"0"}),e.jsx("g",{strokeLinecap:"round",strokeLinejoin:"round"}),e.jsxs("g",{children:[" ",e.jsx("path",{d:"M12.5493 4.50005C11.3193 4.04005 8.70926 5.49996 6.54926 7.40996H4.94922C3.88835 7.40996 2.87093 7.83145 2.12079 8.58159C1.37064 9.33174 0.949219 10.3491 0.949219 11.41V13.41C0.949219 14.4708 1.37064 15.4883 2.12079 16.2385C2.87093 16.9886 3.88835 17.41 4.94922 17.41H6.54926C8.65926 19.35 11.2693 20.78 12.5493 20.33C14.6493 19.55 14.9992 15.33 14.9992 12.41C14.9992 9.48996 14.6493 5.28005 12.5493 4.50005Z",stroke:"#6e6e6e",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})," ",e.jsx("path",{d:"M20.6602 6.71997C22.1593 8.22011 23.0015 10.2542 23.0015 12.375C23.0015 14.4958 22.1593 16.5299 20.6602 18.03",stroke:"#6e6e6e",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})," ",e.jsx("path",{d:"M18.5391 15.95C19.4764 15.0123 20.003 13.7407 20.003 12.4149C20.003 11.0891 19.4764 9.81764 18.5391 8.88",stroke:"#2b2b2b",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})," "]})]}),e.jsx("span",{className:f.pronCountry,children:l()})]})})},U=Object.freeze(Object.defineProperty({__proto__:null,default:D},Symbol.toStringTag,{value:"Module"})),ee=s.memo(({word:t,audio:p,phonetic:a,definition:d,allInfoAboutWord:r,date:l})=>{const i=w(),[c,o]=s.useState(!1),n=()=>{o(!0)},u=()=>{console.log(t),i(W(t))};return e.jsxs(s.Fragment,{children:[c&&e.jsx(Y,{setIsShowDefinitionBar:o,information:r}),e.jsxs("div",{className:h.dictioanryCard,children:[e.jsxs("div",{className:h.wordTitle,children:[e.jsx("div",{className:h.word,onClick:n,children:t}),e.jsx("div",{className:h.dictionaryDate,children:l}),a&&e.jsx("div",{className:h.transcription,children:a})]}),e.jsxs("div",{className:h.phonetics,children:[e.jsx("div",{className:h.def,children:d}),e.jsx(D,{audioString:p}),e.jsx("div",{onClick:u,className:h.deleteWord,children:"x"})]})]})]})}),te="_panelPronWord_i105q_1",ne="_transcription_i105q_13",se="_notFound_i105q_25",oe="_wrapper_i105q_35",m={panelPronWord:te,transcription:ne,notFound:se,wrapper:oe},re=s.lazy(()=>S(()=>Promise.resolve().then(()=>U),void 0)),ie=()=>{const[t,p]=s.useState(""),[a,d]=s.useState({x:0,y:0}),[r,l]=s.useState(),[i,c]=s.useState(!1),[o,n]=s.useState([]);return s.useEffect(()=>{(async()=>{try{await k.get(`https://api.dictionaryapi.dev/api/v2/entries/en/${t}`).then(u=>{l(u.data[0]),n(u.data[0].phonetics)}).catch(()=>{l(void 0),n([])})}catch{console.log("error")}})()},[t]),s.useEffect(()=>{function u(y){if(window.getSelection().toString().length>2){let v=window.getSelection();d({x:y.clientX,y:y.clientY}),c(!0),p(v.toString().toLowerCase().trim())}}function g(y){y.stopPropagation(),y.target.closest(m.panelPronWord)||c(!1)}return document.addEventListener("click",g),document.addEventListener("dblclick",u),()=>{document.removeEventListener("click",g),document.removeEventListener("dblclick",u)}},[]),e.jsx(s.Fragment,{children:i&&e.jsx("div",{className:m.panelPronWord,style:{left:a.x+"px",top:a.y+"px"},children:e.jsx("div",{className:m.wrapper,children:o.length>0||r!=null&&r.phonetic?e.jsxs(s.Fragment,{children:[!!(r!=null&&r.phonetic)&&e.jsx("div",{className:m.transcription,children:e.jsx("span",{children:r==null?void 0:r.phonetic})}),e.jsx(re,{audioString:o})]}):e.jsx("div",{className:m.notFound,children:"Not found"})})})})},pe=()=>{const[t,p]=s.useState(""),[a,d]=s.useState(0),r=5,l=P(n=>n.dictionary.dictionaryList),i=s.useMemo(()=>{let n=[...l];return console.log(n),n.reverse()},[l]),c=t!=""&&i.filter(n=>n.word.includes(t)),o=n=>{p(n.target.value.toLowerCase())};return e.jsx("div",{className:_.wrapperDictionary,children:l.length>0?e.jsxs(s.Fragment,{children:[e.jsx(ie,{}),e.jsxs("div",{className:_.topLineDictionary,children:[e.jsx("input",{className:_.inputSearcWord,placeholder:"Search",onInput:o,type:"text"}),e.jsx("div",{className:_.quantityWords,children:e.jsxs("span",{children:["Words: ",l.length]})})]}),e.jsx("div",{className:_.dictionaryCards,children:(c||i.slice(a*r,a*r+r)).map(n=>e.jsx(ee,{word:n.word,date:n.date,phonetic:n.phonetic,audio:n.phonetics,definition:n.meanings[0].definitions[0].definition,allInfoAboutWord:n},n.word))}),i.length>5&&!c&&e.jsx(N,{quantityWordsOnPage:r,setNumberPage:d,numberPage:a,quantityElems:i.length})]}):e.jsx("div",{className:_.emptyDictWrapper,children:e.jsx("div",{className:_.emptyTitle,children:e.jsxs("h1",{children:["Dictionary is empty. Add at least one word from ",e.jsx(C,{to:"/translator",children:'"Translator"'})]})})})})};export{pe as default};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}