import{r as n,j as t,b as y}from"./index-rSccgMKY.js";import{u as W,b as g}from"./reduxToolkit-6t9TBL9S.js";import{P as b}from"./PaginationCard-A0s5KKnT.js";const A="_createFlashcardWrapper_1a1dl_1",B="_widthMainConteiner_1a1dl_11",S="_imgPuzzle_1a1dl_15",U="_form_1a1dl_34",E="_inputFlashCard_1a1dl_53",O="_inputFlashCardOption_1a1dl_54",M="_optionInputUrl_1a1dl_68",D="_addCard_1a1dl_85",L="_activeImage_1a1dl_102",q="_navBarPhotos_1a1dl_108",$="_imgPazzleUnit_1a1dl_115",k="_appearSmoothImage_1a1dl_1",R="_widthAutoPazzle_1a1dl_127",T="_blurImage_1a1dl_131",G="_diactiveBt_1a1dl_136",Q="_succesAddedCard_1a1dl_141",J="_conteiner_1a1dl_146",K="_wordNotFound_1a1dl_162",a={createFlashcardWrapper:A,widthMainConteiner:B,imgPuzzle:S,form:U,inputFlashCard:E,inputFlashCardOption:O,optionInputUrl:M,addCard:D,activeImage:L,navBarPhotos:q,imgPazzleUnit:$,appearSmoothImage:k,widthAutoPazzle:R,blurImage:T,diactiveBt:G,succesAddedCard:Q,conteiner:J,wordNotFound:K},Y="468Q8bMOgOGEE83ah-aDyPEulZLkL2xJoCUTexnRBFs",X=()=>{const[r,_]=n.useState([]),[i,c]=n.useState(""),[o,l]=n.useState({word:"",url:"",description:""}),[I,u]=n.useState(!1),[C,p]=n.useState(!1),[d,h]=n.useState(1),x=W(),w=async()=>{p(!1);try{await g.get(`https://api.dictionaryapi.dev/api/v2/entries/en/${o.word.toLowerCase().trim()}`).then(s=>s.data[0])&&(m(),h(1),console.log("rer")),u(!1)}catch{p(!0)}},m=async()=>{try{console.log(o.word),await g.get(`https://api.unsplash.com/search/photos?per_page=12&page=${d}&query=${o.word.toLowerCase().trim()}&client_id=${Y}`).then(e=>{_(e.data.results.map(s=>s.urls.regular)),console.log(r)}).catch(()=>console.log("error search"))}catch{console.log("err")}};n.useEffect(()=>{r.length&&m()},[d]);const v=e=>{const s=e.target;s.tagName=="IMG"&&c(s.src)},F=e=>{const s=e.target;l({...o,word:s.value})},z=e=>{const s=e.target;l({...o,description:s.value})},P=e=>{const s=e.target;l({...o,url:s.value})},N=()=>{x(y({...o,imageChoise:i})),l({word:"",url:"",description:""}),u(!0),c("")},f=n.useMemo(()=>r.map((e,s)=>t.jsx("div",{className:a.imgPazzleUnit,children:t.jsx("img",{className:i==e?a.activeImage:i?a.blurImage:"",src:e,alt:"Image"})},e+s)),[r,i,d]),j=()=>r.length<12&&d==0?12:+d*12+12<61?+d*12+12:60;return t.jsxs("div",{className:r.length==0?a.createFlashcardWrapper+" "+a.widthMainConteiner:a.createFlashcardWrapper,children:[t.jsxs("div",{className:r.length?a.imgPuzzle:a.imgPuzzle+" "+a.widthAutoPazzle,onClick:v,children:[I?t.jsx("div",{className:a.succesAddedCard,children:t.jsx("div",{className:a.conteiner,children:t.jsx("span",{children:"Card was succesfully added"})})}):r.length>0&&f,r.length>0&&t.jsx("div",{className:a.navBarPhotos,children:t.jsx(b,{quantityWordsOnPage:12,quantityElems:j(),numberPage:d,setNumberPage:h,type:"photo"})})]}),t.jsx("div",{className:a.form,children:t.jsxs("form",{children:[t.jsx("input",{onBlur:w,onInput:F,className:a.inputFlashCard,value:o.word,type:"text",placeholder:"Word"}),C&&t.jsx("div",{className:a.wordNotFound,children:"Word not found"}),t.jsxs("div",{className:a.optionInputUrl,children:[t.jsxs("label",{htmlFor:"descriptonIn",children:["Description",t.jsx("span",{children:"*"})]}),t.jsx("input",{onInput:z,className:a.inputFlashCardOption,value:o.description,type:"text",placeholder:"Text",id:"descriptonIn"}),t.jsxs("label",{htmlFor:"optionIN",children:["url image ",t.jsx("span",{children:"*"})]}),t.jsx("input",{onInput:P,className:a.inputFlashCardOption,value:o.url,type:"text",placeholder:"URL",id:"optionIN"})]}),t.jsx("button",{className:o.word&&(i||o.url)?a.addCard:a.addCard+" "+a.diactiveBt,onClick:N,type:"button",children:"Add to flashcards"})]})})]})};export{X as default};
