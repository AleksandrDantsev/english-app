import{r,j as t,b as B}from"./index-IDKOnNZl.js";import{b,a as C}from"./reduxToolkit-TRL6_BfL.js";import{P as S}from"./PaginationCard-wkg3KOyf.js";import{A as U}from"./AddToDictionaryButton-B-zS3ZMd.js";const D="_createFlashcardWrapper_k6o0o_1",E="_widthMainConteiner_k6o0o_11",O="_imgPuzzle_k6o0o_15",M="_addAddict_k6o0o_33",L="_active_k6o0o_46",q="_form_k6o0o_50",R="_wrapperImgInput_k6o0o_70",T="_withoutImg_k6o0o_1",$="_checkBoxWithoutImageCustom_k6o0o_93",G="_inputFlashCard_k6o0o_116",Q="_inputFlashCardOption_k6o0o_117",J="_optionInputUrl_k6o0o_131",K="_addCard_k6o0o_148",Y="_activeImage_k6o0o_165",Z="_navBarPhotos_k6o0o_171",H="_imgPazzleUnit_k6o0o_178",V="_appearSmoothImage_k6o0o_1",X="_widthAutoPazzle_k6o0o_190",tt="_blurImage_k6o0o_194",ot="_diactiveBt_k6o0o_199",et="_succesAddedCard_k6o0o_204",at="_conteiner_k6o0o_213",st="_wordNotFound_k6o0o_229",o={createFlashcardWrapper:D,widthMainConteiner:E,imgPuzzle:O,addAddict:M,active:L,form:q,wrapperImgInput:R,withoutImg:T,checkBoxWithoutImageCustom:$,inputFlashCard:G,inputFlashCardOption:Q,optionInputUrl:J,addCard:K,activeImage:Y,navBarPhotos:Z,imgPazzleUnit:H,appearSmoothImage:V,widthAutoPazzle:X,blurImage:tt,diactiveBt:ot,succesAddedCard:et,conteiner:at,wordNotFound:st},rt="468Q8bMOgOGEE83ah-aDyPEulZLkL2xJoCUTexnRBFs",lt=()=>{const[n,l]=r.useState([]),[d,u]=r.useState(""),[s,c]=r.useState({word:"",url:"",description:""}),[p,w]=r.useState(null),[k,h]=r.useState(!1),[v,m]=r.useState(!1),[i,g]=r.useState(1),j=b(),F=async()=>{m(!1);try{const e=await C.get(`https://api.dictionaryapi.dev/api/v2/entries/en/${s.word.toLowerCase().trim()}`).then(a=>a.data[0]);e&&(_(),g(1),w(e)),h(!1)}catch{m(!0)}},_=async()=>{try{await C.get(`https://api.unsplash.com/search/photos?per_page=12&page=${i}
                            &query=${s.word.toLowerCase().trim()}&client_id=${rt}`).then(e=>{l(e.data.results.map(a=>{var x;return(x=a.urls)==null?void 0:x.regular}))}).catch(()=>console.log("error search"))}catch{console.log("err")}};r.useEffect(()=>{n.length&&_()},[i]);const f=e=>{const a=e.target;a.tagName=="IMG"&&u(a.src)},N=e=>{const a=e.target;c({...s,word:a.value})},z=e=>{const a=e.target;c({...s,description:a.value})},P=e=>{const a=e.target;c({...s,url:a.value})},y=e=>{e.target.checked?c({...s,url:"./public/nophoto.webp"}):c({...s,url:""})},I=()=>{j(B({...s,imageChoise:d})),c({word:"",url:"",description:""}),h(!0),u(""),l([])},A=r.useMemo(()=>n.map((e,a)=>t.jsx("div",{className:o.imgPazzleUnit,children:t.jsx("img",{className:d==e?o.activeImage:d?o.blurImage:"",src:e,alt:"Image"})},e+a)),[n,d,i]),W=()=>n.length<12&&i==0?12:+i*12+12<61?+i*12+12:60;return t.jsxs("div",{className:n.length==0?o.createFlashcardWrapper+" "+o.widthMainConteiner:o.createFlashcardWrapper,children:[t.jsxs("div",{className:n.length?o.imgPuzzle:o.imgPuzzle+" "+o.widthAutoPazzle,onClick:f,children:[k?t.jsx("div",{className:o.succesAddedCard,children:t.jsx("div",{className:o.conteiner,children:t.jsx("span",{children:"Card was succesfully added"})})}):n.length>0&&A,n.length>0&&t.jsx("div",{className:o.navBarPhotos,children:t.jsx(S,{quantityWordsOnPage:12,quantityElems:W(),numberPage:i,setNumberPage:g,type:"photo"})})]}),t.jsx("button",{onClick:I,className:d?o.addAddict+" "+o.active:o.addAddict,children:"Add to flashcards"}),t.jsx("div",{className:o.form,children:t.jsxs("form",{children:[t.jsx("input",{onBlur:F,onInput:N,className:o.inputFlashCard,value:s.word,type:"text",placeholder:"Word"}),t.jsx("div",{className:o.wordNotFound,children:v&&"Word not found"}),t.jsxs("div",{className:o.optionInputUrl,children:[t.jsxs("label",{htmlFor:"descriptonIn",children:["Description",t.jsx("span",{children:"*"})]}),t.jsx("input",{onInput:z,className:o.inputFlashCardOption,value:s.description,type:"text",placeholder:"Text",id:"descriptonIn"}),t.jsxs("label",{htmlFor:"optionIN",children:["URL image ",t.jsx("span",{children:"*"})]}),t.jsx("input",{onInput:P,className:o.inputFlashCardOption,value:s.url,type:"text",placeholder:"URL",id:"optionIN"}),t.jsxs("div",{className:o.wrapperImgInput,children:[t.jsxs("label",{htmlFor:o.withoutImg,children:["Without image",t.jsx("span",{children:"*"})]}),t.jsx("input",{type:"checkbox",onChange:y,id:o.withoutImg}),t.jsx("span",{className:o.checkBoxWithoutImageCustom})]})]}),t.jsx("button",{className:s.word&&(d||s.url)?o.addCard:o.addCard+" "+o.diactiveBt,onClick:I,type:"button",children:"Add to flashcards"}),!!p&&t.jsx(U,{data:p,place:"flashcards"})]})})]})};export{lt as default};
