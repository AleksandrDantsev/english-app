import{j as e,r as n,c as C,_ as w,L as k}from"./index-tzw3wyuN.js";import{D as g}from"./Definiton-ADXIv6dJ.js";import{u as P,b as N,a as L}from"./reduxToolkit-p_wSQIGb.js";import{P as z}from"./PaginationCard-hCCg-bMF.js";const b="_wrapperDictionary_zywxu_1",B="_dictionaryCards_zywxu_8",q="_topLineDictionary_zywxu_12",E="_quantityWords_zywxu_17",T="_inputSearcWord_zywxu_29",A="_emptyDictWrapper_zywxu_40",F="_emptyTitle_zywxu_48",_={wrapperDictionary:b,dictionaryCards:B,topLineDictionary:q,quantityWords:E,inputSearcWord:T,emptyDictWrapper:A,emptyTitle:F},I="_dictioanryCard_1gozd_1",$="_word_1gozd_15",M="_wordTitle_1gozd_24",O="_phonetics_1gozd_31",H="_transcription_1gozd_38",Q="_def_1gozd_47",R="_dictionaryDate_1gozd_55",V="_deleteWord_1gozd_59",X="_audio_1gozd_69",p={dictioanryCard:I,word:$,wordTitle:M,phonetics:O,transcription:H,def:Q,dictionaryDate:R,deleteWord:V,audio:X},Y="_sideBardDesc_e1nz7_1",Z="_hideDescBar_e1nz7_13",G="_sidebarWrapper_e1nz7_32",v={sideBardDesc:Y,hideDescBar:Z,sidebarWrapper:G},J=({information:o,setIsShowDefinitionBar:u})=>{console.log(o);const c=()=>{u(!1)};return e.jsxs("div",{className:v.sideBardDesc,children:[e.jsx("span",{className:v.hideDescBar,onClick:c,children:e.jsxs("svg",{fill:"#787878",height:"15px",width:"15px",viewBox:"0 0 490 490",stroke:"#787878",children:[e.jsx("g",{strokeWidth:"0"}),e.jsx("g",{strokeLinecap:"round",strokeLinejoin:"round"}),e.jsxs("g",{children:[" ",e.jsx("polygon",{points:"456.851,0 245,212.564 33.149,0 0.708,32.337 212.669,245.004 0.708,457.678 33.149,490 245,277.443 456.851,490 489.292,457.678 277.331,245.004 489.292,32.337 "})," "]})]})}),e.jsxs("div",{className:v.sidebarWrapper,children:[e.jsx(g,{typeDef:"adjective",data:o,typeSearch:"definition"}),e.jsx(g,{typeDef:"noun",data:o,typeSearch:"definition"}),e.jsx(g,{typeDef:"verb",data:o,typeSearch:"definition"}),e.jsx(g,{typeDef:"adverb",data:o,typeSearch:"definition"})]})]})},K="_audioWord_m8n5u_1",U="_animationSoundPlayClass_m8n5u_10",ee="_animationSoundPlay_m8n5u_10",te="_pronCountry_m8n5u_14",D={audioWord:K,animationSoundPlayClass:U,animationSoundPlay:ee,pronCountry:te},S=({audioString:o})=>{const[u,c]=n.useState(!1),a=n.useMemo(()=>{var r;if(o.length){for(let s=0;s<o.length;s++)if(o[s].audio.endsWith("us.mp3"))return o[s].audio;return(r=o.find(s=>s.audio!=""))==null?void 0:r.audio}},[o]),i=()=>{c(!0);const r=new Audio(a);r.play(),r.onended=()=>c(!1)},l=()=>{var d;const r=["us","uk","en","au"];for(let s=0;s<r.length;s++)if((d=a==null?void 0:a.toLowerCase())!=null&&d.includes(r[s]))return r[s]};return e.jsx(n.Fragment,{children:!!a&&e.jsxs("div",{onClick:i,className:D.audioWord,children:[e.jsxs("svg",{className:u?D.animationSoundPlayClass:"",width:"30px",height:"30px",viewBox:"-0.5 0 25 25",fill:"none",stroke:"#6e6e6e",children:[e.jsx("g",{strokeWidth:"0"}),e.jsx("g",{strokeLinecap:"round",strokeLinejoin:"round"}),e.jsxs("g",{children:[" ",e.jsx("path",{d:"M12.5493 4.50005C11.3193 4.04005 8.70926 5.49996 6.54926 7.40996H4.94922C3.88835 7.40996 2.87093 7.83145 2.12079 8.58159C1.37064 9.33174 0.949219 10.3491 0.949219 11.41V13.41C0.949219 14.4708 1.37064 15.4883 2.12079 16.2385C2.87093 16.9886 3.88835 17.41 4.94922 17.41H6.54926C8.65926 19.35 11.2693 20.78 12.5493 20.33C14.6493 19.55 14.9992 15.33 14.9992 12.41C14.9992 9.48996 14.6493 5.28005 12.5493 4.50005Z",stroke:"#6e6e6e",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})," ",e.jsx("path",{d:"M20.6602 6.71997C22.1593 8.22011 23.0015 10.2542 23.0015 12.375C23.0015 14.4958 22.1593 16.5299 20.6602 18.03",stroke:"#6e6e6e",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})," ",e.jsx("path",{d:"M18.5391 15.95C19.4764 15.0123 20.003 13.7407 20.003 12.4149C20.003 11.0891 19.4764 9.81764 18.5391 8.88",stroke:"#2b2b2b",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})," "]})]}),e.jsx("span",{className:D.pronCountry,children:l()})]})})},ne=Object.freeze(Object.defineProperty({__proto__:null,default:S},Symbol.toStringTag,{value:"Module"})),oe=n.memo(({word:o,audio:u,phonetic:c,definition:a,allInfoAboutWord:i,date:l})=>{const r=P(),[d,s]=n.useState(!1),[t,h]=n.useState(!1),x=()=>{s(!0)},y=()=>{r(C(o))},j=n.useMemo(()=>a.length>150?a.slice(0,150)+"...":a,[a]),W=f=>{f.stopPropagation(),f.target.closest("."+p.audio)||h(!t)};return e.jsxs(n.Fragment,{children:[d&&e.jsx(J,{setIsShowDefinitionBar:s,information:i}),e.jsxs("div",{className:p.dictioanryCard,onClick:W,children:[e.jsxs("div",{className:p.wordTitle,children:[e.jsx("div",{className:p.word,onClick:x,children:o}),e.jsx("div",{className:p.dictionaryDate,children:l}),c&&e.jsx("div",{className:p.transcription,children:c})]}),e.jsxs("div",{className:p.phonetics,children:[e.jsx("div",{className:p.def,children:t?a:j}),e.jsx("div",{className:p.audio,children:e.jsx(S,{audioString:u})}),e.jsx("div",{onClick:y,className:p.deleteWord,children:"x"})]})]})]})}),se="_panelPronWord_i105q_1",ie="_transcription_i105q_13",re="_notFound_i105q_25",ae="_wrapper_i105q_35",m={panelPronWord:se,transcription:ie,notFound:re,wrapper:ae},ce=n.lazy(()=>w(()=>Promise.resolve().then(()=>ne),void 0)),de=()=>{const[o,u]=n.useState(""),[c,a]=n.useState({x:0,y:0}),[i,l]=n.useState(),[r,d]=n.useState(!1),[s,t]=n.useState([]);return n.useEffect(()=>{(async()=>{try{await N.get(`https://api.dictionaryapi.dev/api/v2/entries/en/${o}`).then(h=>{l(h.data[0]),t(h.data[0].phonetics)}).catch(()=>{l(void 0),t([])})}catch{console.log("error")}})()},[o]),n.useEffect(()=>{function h(y){if(window.getSelection().toString().length>2){let j=window.getSelection();a({x:y.clientX,y:y.clientY}),d(!0),u(j.toString().toLowerCase().trim())}}function x(y){y.stopPropagation(),y.target.closest(m.panelPronWord)||d(!1)}return document.addEventListener("click",x),document.addEventListener("dblclick",h),()=>{document.removeEventListener("click",x),document.removeEventListener("dblclick",h)}},[]),e.jsx(n.Fragment,{children:r&&e.jsx("div",{className:m.panelPronWord,style:{left:c.x+"px",top:c.y+"px"},children:e.jsx("div",{className:m.wrapper,children:s.length>0||i!=null&&i.phonetic?e.jsxs(n.Fragment,{children:[!!(i!=null&&i.phonetic)&&e.jsx("div",{className:m.transcription,children:e.jsx("span",{children:i==null?void 0:i.phonetic})}),e.jsx(ce,{audioString:s})]}):e.jsx("div",{className:m.notFound,children:"Not found"})})})})},ye=()=>{const[o,u]=n.useState(""),[c,a]=n.useState(0),i=5,l=L(t=>t.dictionary.dictionaryList),r=n.useMemo(()=>{let t=[...l];return console.log(t),t.reverse()},[l]),d=o!=""&&r.filter(t=>t.word.includes(o)),s=t=>{u(t.target.value.toLowerCase())};return e.jsx("div",{className:_.wrapperDictionary,children:l.length>0?e.jsxs(n.Fragment,{children:[e.jsx(de,{}),e.jsxs("div",{className:_.topLineDictionary,children:[e.jsx("input",{className:_.inputSearcWord,placeholder:"Search",onInput:s,type:"text"}),e.jsx("div",{className:_.quantityWords,children:e.jsxs("span",{children:["Words: ",l.length]})})]}),e.jsx("div",{className:_.dictionaryCards,children:(d||r.slice(c*i,c*i+i)).map(t=>e.jsx(oe,{word:t.word,date:t.date,phonetic:t.phonetic,audio:t.phonetics,definition:t.meanings[0].definitions[0].definition,allInfoAboutWord:t},t.word))}),r.length>5&&!d&&e.jsx(z,{quantityWordsOnPage:i,setNumberPage:a,numberPage:c,quantityElems:r.length})]}):e.jsx("div",{className:_.emptyDictWrapper,children:e.jsx("div",{className:_.emptyTitle,children:e.jsxs("h1",{children:["Dictionary is empty. Add at least one word from ",e.jsx(k,{to:"/translator",children:'"Translator"'})]})})})})};export{ye as default};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}