import{r as d,j as e,b as A}from"./index-Ca8LkxZH.js";import{u as W,b as C}from"./reduxToolkit-bNJi6tHX.js";import{P as b}from"./PaginationCard-DZO4hOVY.js";const B="_createFlashcardWrapper_14dph_1",S="_widthMainConteiner_14dph_11",U="_imgPuzzle_14dph_15",E="_addAddict_14dph_33",O="_active_14dph_46",M="_form_14dph_50",D="_inputFlashCard_14dph_70",L="_inputFlashCardOption_14dph_71",k="_optionInputUrl_14dph_85",q="_addCard_14dph_102",$="_activeImage_14dph_119",R="_navBarPhotos_14dph_125",T="_imgPazzleUnit_14dph_132",G="_appearSmoothImage_14dph_1",Q="_widthAutoPazzle_14dph_144",J="_blurImage_14dph_148",K="_diactiveBt_14dph_153",Y="_succesAddedCard_14dph_158",Z="_conteiner_14dph_167",H="_wordNotFound_14dph_183",t={createFlashcardWrapper:B,widthMainConteiner:S,imgPuzzle:U,addAddict:E,active:O,form:M,inputFlashCard:D,inputFlashCardOption:L,optionInputUrl:k,addCard:q,activeImage:$,navBarPhotos:R,imgPazzleUnit:T,appearSmoothImage:G,widthAutoPazzle:Q,blurImage:J,diactiveBt:K,succesAddedCard:Y,conteiner:Z,wordNotFound:H},V="468Q8bMOgOGEE83ah-aDyPEulZLkL2xJoCUTexnRBFs",at=()=>{const[r,I]=d.useState([]),[i,l]=d.useState(""),[o,c]=d.useState({word:"",url:"",description:""}),[v,p]=d.useState(!1),[x,h]=d.useState(!1),[n,u]=d.useState(1),w=W(),F=async()=>{h(!1);try{await C.get(`https://api.dictionaryapi.dev/api/v2/entries/en/${o.word.toLowerCase().trim()}`).then(s=>s.data[0])&&(m(),u(1)),p(!1)}catch{h(!0)}},m=async()=>{try{await C.get(`https://api.unsplash.com/search/photos?per_page=12&page=${n}
                            &query=${o.word.toLowerCase().trim()}&client_id=${V}`).then(a=>{console.log(a.data),I(a.data.results.map(s=>{var g;return(g=s.urls)==null?void 0:g.regular}))}).catch(()=>console.log("error search"))}catch{console.log("err")}};d.useEffect(()=>{r.length&&m()},[n]);const z=a=>{const s=a.target;s.tagName=="IMG"&&l(s.src)},N=a=>{const s=a.target;c({...o,word:s.value})},P=a=>{const s=a.target;c({...o,description:s.value})},f=a=>{const s=a.target;c({...o,url:s.value})},_=()=>{w(A({...o,imageChoise:i})),c({word:"",url:"",description:""}),p(!0),l("")},j=d.useMemo(()=>r.map((a,s)=>e.jsx("div",{className:t.imgPazzleUnit,children:e.jsx("img",{className:i==a?t.activeImage:i?t.blurImage:"",src:a,alt:"Image"})},a+s)),[r,i,n]),y=()=>r.length<12&&n==0?12:+n*12+12<61?+n*12+12:60;return e.jsxs("div",{className:r.length==0?t.createFlashcardWrapper+" "+t.widthMainConteiner:t.createFlashcardWrapper,children:[e.jsxs("div",{className:r.length?t.imgPuzzle:t.imgPuzzle+" "+t.widthAutoPazzle,onClick:z,children:[v?e.jsx("div",{className:t.succesAddedCard,children:e.jsx("div",{className:t.conteiner,children:e.jsx("span",{children:"Card was succesfully added"})})}):r.length>0&&j,r.length>0&&e.jsx("div",{className:t.navBarPhotos,children:e.jsx(b,{quantityWordsOnPage:12,quantityElems:y(),numberPage:n,setNumberPage:u,type:"photo"})})]}),e.jsx("button",{onClick:_,className:i?t.addAddict+" "+t.active:t.addAddict,children:"Add to flashcards"}),e.jsx("div",{className:t.form,children:e.jsxs("form",{children:[e.jsx("input",{onBlur:F,onInput:N,className:t.inputFlashCard,value:o.word,type:"text",placeholder:"Word"}),x&&e.jsx("div",{className:t.wordNotFound,children:"Word not found"}),e.jsxs("div",{className:t.optionInputUrl,children:[e.jsxs("label",{htmlFor:"descriptonIn",children:["Description",e.jsx("span",{children:"*"})]}),e.jsx("input",{onInput:P,className:t.inputFlashCardOption,value:o.description,type:"text",placeholder:"Text",id:"descriptonIn"}),e.jsxs("label",{htmlFor:"optionIN",children:["url image ",e.jsx("span",{children:"*"})]}),e.jsx("input",{onInput:f,className:t.inputFlashCardOption,value:o.url,type:"text",placeholder:"URL",id:"optionIN"})]}),e.jsx("button",{className:o.word&&(i||o.url)?t.addCard:t.addCard+" "+t.diactiveBt,onClick:_,type:"button",children:"Add to flashcards"})]})})]})};export{at as default};
